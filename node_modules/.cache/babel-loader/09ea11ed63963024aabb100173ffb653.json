{"ast":null,"code":"import _toConsumableArray from\"/home/v2stech/ReactJs/RouterAssignment (copy)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/v2stech/ReactJs/RouterAssignment (copy)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/v2stech/ReactJs/RouterAssignment (copy)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/v2stech/ReactJs/RouterAssignment (copy)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo,Fragment}from\"react\";import EditIcon from\"@material-ui/icons/Edit\";import{red,yellow}from\"@material-ui/core/colors\";import DeleteIcon from\"@material-ui/icons/Delete\";import{Button,Form}from\"react-bootstrap\";import CommonReactTable from\"../common/CommonReactTable\";import ModalPopup from\"../Todo/ModalPopup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Todo=function Todo(){var COLUMNS=[// {\n//     Header: \"Sr\",\n//     Cell: ({ row }) => {\n//         return <>{row.index + 1}</>;\n//     },\n//     width: 10,\n// },\n{Header:\"Title\",accessor:\"title\",width:250,disableSortBy:true},{Header:\"Description\",accessor:\"description\",width:250,disableSortBy:true},{Header:\"Status\",accessor:\"status\",width:150,Cell:function Cell(cellProps){switch(cellProps.value){case\"Todo\":return/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary\",children:\"Todo\"});case\"Inprogress\":return/*#__PURE__*/_jsx(\"strong\",{className:\"text-warning\",children:\"Inprogress\"});case\"Done\":return/*#__PURE__*/_jsx(\"strong\",{className:\"text-success\",children:\"Done\"});default:return/*#__PURE__*/_jsx(Fragment,{});}},disableSortBy:true},{Header:\"Actions\",Cell:function Cell(data){console.log(data);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EditIcon,{style:{color:yellow[500]},onClick:function onClick(){onEdit(data.row.original.id);}}),/*#__PURE__*/_jsx(DeleteIcon,{style:{color:red[500]},onClick:function onClick(){passData(data.row.original.id,data.row.original.title);}})]});},width:150,disableSortBy:true}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),validated=_useState2[0],setValidated=_useState2[1];var _useState3=useState({id:\"\",title:\"\",description:\"\",status:\"\",items:[]}),_useState4=_slicedToArray(_useState3,2),todoDetails=_useState4[0],setTodoDetails=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),edit=_useState6[0],setEdit=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),editItem=_useState8[0],setEditItem=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show=_useState10[0],setShow=_useState10[1];var handleShow=function handleShow(){return setShow(true);};var handleClose=function handleClose(){return setShow(false);};var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),id=_useState12[0],setid=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),title=_useState14[0],settitle=_useState14[1];var handler=function handler(e){setTodoDetails(_objectSpread(_objectSpread({},todoDetails),{},_defineProperty({},e.target.name,e.target.value)));};var handler1=function handler1(e){setTodoDetails({items:todoDetails.items,title:\"\",description:\"\",status:\"\",id:\"\"});setEdit(false);setEditItem(\"\");setShow(false);};var submitHandler=function submitHandler(e){var form=e.currentTarget;e.preventDefault();e.stopPropagation();if(form.checkValidity()===false){setValidated(true);}else if(todoDetails&&edit){console.log(\"---------------------------------------------------\");console.log(todoDetails.items);var newEdit=todoDetails.items.find(function(i){return i.id===editItem;});newEdit.title=todoDetails.title;newEdit.description=todoDetails.description;newEdit.status=todoDetails.status;console.log(newEdit);setTodoDetails({items:todoDetails.items,title:\"\",description:\"\",status:\"\",id:\"\"});setValidated(false);console.log(todoDetails.items,\" itemz\");}else{var items=_toConsumableArray(todoDetails.items);items.push({id:Math.floor(100000+Math.random()*900000),title:todoDetails.title,description:todoDetails.description,status:todoDetails.status});setTodoDetails({items:items,title:\"\",description:\"\",status:\"\",id:\"\"});setValidated(false);}console.log(todoDetails.items);setEdit(false);setEditItem(\"\");setShow(false);};var passData=function passData(id,title){console.log(\"in pass data\",id,title);setid(id);settitle(title);setShow(true);console.log(\"in pass data\",id);console.log(\"in pass data\",title);};var onDelete=function onDelete(todo){console.log(\" iam on Delete off todo\",todo);console.log(\"OurData\",todoDetails.items);var updateList=todoDetails.items.filter(function(e){return e.id!==todo;});console.log(updateList,\"updatelist\");setTodoDetails({items:updateList});setShow(false);};// const columns = useMemo(() => getTodoTableColumns(passData), []);\nvar onEdit=function onEdit(id){console.log(\" iam on Edit  todo\",id);var updateList=todoDetails.items.find(function(e){console.log(e);return e.id===id;});console.log(updateList.id,\"updatelist\");setEdit(true);setEditItem(id);setTodoDetails({items:todoDetails.items,title:updateList.title,description:updateList.description,status:updateList.status,id:updateList.id});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",style:{padding:\"30px\",paddingTop:\"0px\",paddingBottom:\"15px\"},children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated,onSubmit:submitHandler,className:\"mt-2\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{style:{textAlign:\"left\",display:\"block\"},children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Title\",required:true,name:\"title\",value:todoDetails.title,onChange:handler}),/*#__PURE__*/_jsx(Form.Control.Feedback,{style:{textAlign:\"left\"},type:\"invalid\",children:\"Please provide a valid title.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"description\",children:[/*#__PURE__*/_jsx(Form.Label,{style:{textAlign:\"left\",display:\"block\"},children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",type:\"text\",value:todoDetails.description,onChange:handler,name:\"description\",placeholder:\"Description\",rows:3,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{style:{textAlign:\"left\"},type:\"invalid\",children:\"Please provide a valid Description.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{style:{textAlign:\"left\",display:\"block\"},children:\"Status\"}),/*#__PURE__*/_jsxs(Form.Control,{required:true,as:\"select\",name:\"status\",onChange:handler,value:todoDetails.status,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Todo\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inprogress\",children:\"Inprogress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Done\",children:\"Done\"})]}),/*#__PURE__*/_jsx(Form.Control.Feedback,{style:{textAlign:\"left\"},type:\"invalid\",children:\"Please Select Status.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),edit?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"m-1\",children:\"Update todo\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"warning\",onClick:handler1,children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Add Todo\"})})]})}),/*#__PURE__*/_jsx(CommonReactTable,{data:todoDetails.items,columns:COLUMNS,editItem:editItem,sorting:false,search:false}),/*#__PURE__*/_jsx(ModalPopup,{show:show,onDelete:onDelete,handleClose:handleClose,title:title,itemsID:id})]});};export default Todo;","map":{"version":3,"sources":["/home/v2stech/ReactJs/RouterAssignment (copy)/src/components/Todo/Todo.js"],"names":["React","useState","useMemo","Fragment","EditIcon","red","yellow","DeleteIcon","Button","Form","CommonReactTable","ModalPopup","Todo","COLUMNS","Header","accessor","width","disableSortBy","Cell","cellProps","value","data","console","log","color","onEdit","row","original","id","passData","title","validated","setValidated","description","status","items","todoDetails","setTodoDetails","edit","setEdit","editItem","setEditItem","show","setShow","handleShow","handleClose","setid","settitle","handler","e","target","name","handler1","submitHandler","form","currentTarget","preventDefault","stopPropagation","checkValidity","newEdit","find","i","push","Math","floor","random","onDelete","todo","updateList","filter","padding","paddingTop","paddingBottom","textAlign","display"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, Fragment } from \"react\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { red, yellow } from \"@material-ui/core/colors\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport { Button, Form } from \"react-bootstrap\";\r\n\r\nimport CommonReactTable from \"../common/CommonReactTable\";\r\n\r\nimport ModalPopup from \"../Todo/ModalPopup\";\r\nconst Todo = () => {\r\n  const COLUMNS = [\r\n    // {\r\n    //     Header: \"Sr\",\r\n    //     Cell: ({ row }) => {\r\n    //         return <>{row.index + 1}</>;\r\n    //     },\r\n    //     width: 10,\r\n    // },\r\n    {\r\n      Header: \"Title\",\r\n      accessor: \"title\",\r\n      width: 250,\r\n      disableSortBy: true,\r\n    },\r\n    {\r\n      Header: \"Description\",\r\n      accessor: \"description\",\r\n      width: 250,\r\n      disableSortBy: true,\r\n    },\r\n    {\r\n      Header: \"Status\",\r\n      accessor: \"status\",\r\n      width: 150,\r\n\r\n      Cell: (cellProps) => {\r\n        switch (cellProps.value) {\r\n          case \"Todo\":\r\n            return <strong className=\"text-primary\">Todo</strong>;\r\n          case \"Inprogress\":\r\n            return <strong className=\"text-warning\">Inprogress</strong>;\r\n          case \"Done\":\r\n            return <strong className=\"text-success\">Done</strong>;\r\n          default:\r\n            return <Fragment></Fragment>;\r\n        }\r\n      },\r\n      disableSortBy: true,\r\n    },\r\n    {\r\n      Header: \"Actions\",\r\n      Cell: (data) => {\r\n        console.log(data);\r\n        return (\r\n          <div>\r\n            <EditIcon\r\n              style={{ color: yellow[500] }}\r\n              onClick={() => {\r\n                onEdit(data.row.original.id);\r\n              }}\r\n            />\r\n\r\n            <DeleteIcon\r\n              style={{ color: red[500] }}\r\n              onClick={() => {\r\n                passData(data.row.original.id, data.row.original.title);\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      },\r\n      width: 150,\r\n      disableSortBy: true,\r\n    },\r\n  ];\r\n\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  const [todoDetails, setTodoDetails] = useState({\r\n    id: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n    status: \"\",\r\n    items: [],\r\n  });\r\n\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [editItem, setEditItem] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleClose = () => setShow(false);\r\n\r\n  const [id, setid] = useState(\"\");\r\n  const [title, settitle] = useState(\"\");\r\n\r\n  const handler = (e) => {\r\n    setTodoDetails({\r\n      ...todoDetails,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handler1 = (e) => {\r\n    setTodoDetails({\r\n      items: todoDetails.items,\r\n      title: \"\",\r\n      description: \"\",\r\n      status: \"\",\r\n      id: \"\",\r\n    });\r\n    setEdit(false);\r\n    setEditItem(\"\");\r\n    setShow(false);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (form.checkValidity() === false) {\r\n      setValidated(true);\r\n    } else if (todoDetails && edit) {\r\n      console.log(\"---------------------------------------------------\");\r\n      console.log(todoDetails.items);\r\n\r\n      const newEdit = todoDetails.items.find((i) => i.id === editItem);\r\n\r\n      newEdit.title = todoDetails.title;\r\n      newEdit.description = todoDetails.description;\r\n      newEdit.status = todoDetails.status;\r\n\r\n      console.log(newEdit);\r\n\r\n      setTodoDetails({\r\n        items: todoDetails.items,\r\n        title: \"\",\r\n        description: \"\",\r\n        status: \"\",\r\n        id: \"\",\r\n      });\r\n      setValidated(false);\r\n      console.log(todoDetails.items, \" itemz\");\r\n    } else {\r\n      let items = [...todoDetails.items];\r\n      items.push({\r\n        id: Math.floor(100000 + Math.random() * 900000),\r\n        title: todoDetails.title,\r\n        description: todoDetails.description,\r\n        status: todoDetails.status,\r\n      });\r\n\r\n      setTodoDetails({\r\n        items,\r\n        title: \"\",\r\n        description: \"\",\r\n        status: \"\",\r\n        id: \"\",\r\n      });\r\n      setValidated(false);\r\n    }\r\n    console.log(todoDetails.items);\r\n    setEdit(false);\r\n    setEditItem(\"\");\r\n    setShow(false);\r\n  };\r\n\r\n  const passData = (id, title) => {\r\n    console.log(\"in pass data\", id, title);\r\n    setid(id);\r\n    settitle(title);\r\n    setShow(true);\r\n\r\n    console.log(\"in pass data\", id);\r\n    console.log(\"in pass data\", title);\r\n  };\r\n\r\n  const onDelete = (todo) => {\r\n    console.log(\" iam on Delete off todo\", todo);\r\n    console.log(\"OurData\", todoDetails.items);\r\n\r\n    const updateList = todoDetails.items.filter((e) => e.id !== todo);\r\n\r\n    console.log(updateList, \"updatelist\");\r\n    setTodoDetails({\r\n      items: updateList,\r\n    });\r\n    setShow(false);\r\n  };\r\n  // const columns = useMemo(() => getTodoTableColumns(passData), []);\r\n  const onEdit = (id) => {\r\n    console.log(\" iam on Edit  todo\", id);\r\n\r\n    const updateList = todoDetails.items.find((e) => {\r\n      console.log(e);\r\n      return e.id === id;\r\n    });\r\n    console.log(updateList.id, \"updatelist\");\r\n\r\n    setEdit(true);\r\n    setEditItem(id);\r\n    setTodoDetails({\r\n      items: todoDetails.items,\r\n      title: updateList.title,\r\n      description: updateList.description,\r\n      status: updateList.status,\r\n      id: updateList.id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div\r\n        className=\"container-fluid\"\r\n        style={{\r\n          padding: \"30px\",\r\n          paddingTop: \"0px\",\r\n          paddingBottom: \"15px\",\r\n        }}\r\n      >\r\n        <Form\r\n          noValidate\r\n          validated={validated}\r\n          onSubmit={submitHandler}\r\n          className=\"mt-2\"\r\n        >\r\n          <Form.Group className=\"mb-3\" controlId=\"title\">\r\n            <Form.Label style={{ textAlign: \"left\", display: \"block\" }}>\r\n              Title\r\n            </Form.Label>\r\n\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Title\"\r\n              required\r\n              name=\"title\"\r\n              value={todoDetails.title}\r\n              onChange={handler}\r\n            />\r\n\r\n            <Form.Control.Feedback style={{ textAlign: \"left\" }} type=\"invalid\">\r\n              Please provide a valid title.\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"description\">\r\n            <Form.Label style={{ textAlign: \"left\", display: \"block\" }}>\r\n              Description\r\n            </Form.Label>\r\n\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              type=\"text\"\r\n              value={todoDetails.description}\r\n              onChange={handler}\r\n              name=\"description\"\r\n              placeholder=\"Description\"\r\n              rows={3}\r\n              required\r\n            />\r\n\r\n            <Form.Control.Feedback style={{ textAlign: \"left\" }} type=\"invalid\">\r\n              Please provide a valid Description.\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label style={{ textAlign: \"left\", display: \"block\" }}>\r\n              Status\r\n            </Form.Label>\r\n            <Form.Control\r\n              required\r\n              as=\"select\"\r\n              name=\"status\"\r\n              onChange={handler}\r\n              value={todoDetails.status}\r\n            >\r\n              <option value=\"\">Select Status</option>\r\n              <option value=\"Todo\">Todo</option>\r\n              <option value=\"Inprogress\">Inprogress</option>\r\n              <option value=\"Done\">Done</option>\r\n            </Form.Control>\r\n            <Form.Control.Feedback style={{ textAlign: \"left\" }} type=\"invalid\">\r\n              Please Select Status.\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n          <br />\r\n          {edit ? (\r\n            <div className=\"d-flex justify-content-center align-items-center\">\r\n              <Button type=\"submit\" variant=\"primary\" className=\"m-1\">\r\n                Update todo\r\n              </Button>\r\n              <Button type=\"button\" variant=\"warning\" onClick={handler1}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"d-flex justify-content-center align-items-center\">\r\n              <Button type=\"submit\" variant=\"primary\">\r\n                Add Todo\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </Form>\r\n\r\n        {/* <TodoTable\r\n                ourData={todoDetails.items}\r\n                onDelete={onDelete}\r\n                onEdit={onEdit}\r\n                editItem={editItem}\r\n                show={show}\r\n                handleClose={handleClose}\r\n                handleShow={handleShow}\r\n                passData={passData}\r\n                id={id}\r\n                title={title}\r\n            /> */}\r\n\r\n        {/* <TodoReactTable\r\n                data={todoDetails.items}\r\n                columns={COLUMNS}\r\n                onDelete={onDelete}\r\n                onEdit={onEdit}\r\n                editItem={editItem}\r\n                show={show}\r\n                handleClose={handleClose}\r\n                handleShow={handleShow}\r\n                passData={passData}\r\n                id={id}\r\n                title={title}\r\n            /> */}\r\n      </div>\r\n      <CommonReactTable\r\n        data={todoDetails.items}\r\n        columns={COLUMNS}\r\n        editItem={editItem}\r\n        sorting={false}\r\n        search={false}\r\n      />\r\n      <ModalPopup\r\n        show={show}\r\n        onDelete={onDelete}\r\n        handleClose={handleClose}\r\n        title={title}\r\n        itemsID={id}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Todo;\r\n"]},"metadata":{},"sourceType":"module"}