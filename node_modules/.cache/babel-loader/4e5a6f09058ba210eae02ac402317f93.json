{"ast":null,"code":"import React,{useState}from\"react\";import{Container,Row,Col,Button}from\"react-bootstrap\";import{useSelector,useDispatch}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CountDown=function CountDown(){var myState=useSelector(function(state){return state.reducer;});// console.log(myState);\nvar dispatch=useDispatch();var secondsToTime=function secondsToTime(secs){var hours=Math.floor(secs/(60*60));var divisor_for_minutes=secs%(60*60);var minutes=Math.floor(divisor_for_minutes/60);var divisor_for_seconds=divisor_for_minutes%60;var seconds=Math.ceil(divisor_for_seconds);var obj={h:hours,m:minutes,s:seconds};return obj;};var time;var startTimer=function startTimer(){if(myState.seconds>=0){time=setInterval(countDown,1000);}};var countDown=function countDown(){if(myState.seconds===0){clearInterval(time);return onCountDownAtZero();}return onCountDown(secondsToTime);};var onCountDown=function onCountDown(fn){return dispatch({type:\"START\",secToTime:fn});};var onCountDownAtZero=function onCountDownAtZero(){return dispatch({type:\"STOP\"});};var incTimer=function incTimer(){if(myState.seconds>=0)return onIncrement(secondsToTime);};var onIncrement=function onIncrement(fn){return dispatch({type:\"INCREMENT\",secToTime:fn});};var decTimer=function decTimer(){if(myState.seconds>61)return onDecrement(secondsToTime);};var stopTimer=function stopTimer(){console.log(time,\" timer\");if(myState.seconds!==0){clearInterval(time);}};var onDecrement=function onDecrement(fn){return dispatch({type:\"DECREMENT\",secToTime:fn});};var timeFormatter=function timeFormatter(myState){console.log(myState.time.h);if(myState.time.h.toString().length<2)myState.time.h=\"0\".concat(myState.time.h);if(myState.time.m.toString().length<2)myState.time.m=\"0\".concat(myState.time.m);if(myState.time.s.toString().length<2)myState.time.s=\"0\".concat(myState.time.s);return/*#__PURE__*/_jsxs(\"span\",{children:[myState.time.h,\":\",myState.time.m,\":\",myState.time.s]});};return/*#__PURE__*/_jsxs(Container,{fluid:true,style:{padding:\"0px 25px\"},children:[/*#__PURE__*/_jsx(Row,{style:{justifyContent:\"space-between\",padding:\"15px 0px \",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Col,{xs:4,children:/*#__PURE__*/_jsx(\"h5\",{children:\"CountDown App\"})})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4  justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto justify-content-center  text-center\",children:timeFormatter(myState)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center \",children:[/*#__PURE__*/_jsx(Button,{className:\"m-2\",variant:\"info\",onClick:function onClick(){return incTimer();},children:\"+\"}),/*#__PURE__*/_jsx(Button,{className:\"m-2\",variant:\"primary\",onClick:function onClick(){return startTimer();},children:\"Start\"}),/*#__PURE__*/_jsx(Button,{className:\"m-2\",variant:\"danger\",onClick:function onClick(){return stopTimer();},children:\"Stop\"}),/*#__PURE__*/_jsx(Button,{className:\"m-2\",variant:\"info\",onClick:function onClick(){return decTimer();},children:\"-\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\"})]})]});};export default CountDown;","map":{"version":3,"sources":["/home/v2stech/ReactJs/RouterAssignment (copy)/src/components/countdown/CountDown.js"],"names":["React","useState","Container","Row","Col","Button","useSelector","useDispatch","CountDown","myState","state","reducer","dispatch","secondsToTime","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","seconds","ceil","obj","h","m","s","time","startTimer","setInterval","countDown","clearInterval","onCountDownAtZero","onCountDown","fn","type","secToTime","incTimer","onIncrement","decTimer","onDecrement","stopTimer","console","log","timeFormatter","toString","length","padding","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nconst CountDown = () => {\n  const myState = useSelector((state) => state.reducer);\n  // console.log(myState);\n  const dispatch = useDispatch();\n\n  const secondsToTime = (secs) => {\n    let hours = Math.floor(secs / (60 * 60));\n\n    let divisor_for_minutes = secs % (60 * 60);\n    let minutes = Math.floor(divisor_for_minutes / 60);\n\n    let divisor_for_seconds = divisor_for_minutes % 60;\n    let seconds = Math.ceil(divisor_for_seconds);\n\n    let obj = {\n      h: hours,\n      m: minutes,\n      s: seconds,\n    };\n    return obj;\n  };\n\n  let time;\n  const startTimer = () => {\n    if (myState.seconds >= 0) {\n      time = setInterval(countDown, 1000);\n    }\n  };\n\n  const countDown = () => {\n    if (myState.seconds === 0) {\n      clearInterval(time);\n      return onCountDownAtZero();\n    }\n    return onCountDown(secondsToTime);\n  };\n  const onCountDown = (fn) => dispatch({ type: \"START\", secToTime: fn });\n  const onCountDownAtZero = () => dispatch({ type: \"STOP\" });\n  const incTimer = () => {\n    if (myState.seconds >= 0) return onIncrement(secondsToTime);\n  };\n\n  const onIncrement = (fn) => dispatch({ type: \"INCREMENT\", secToTime: fn });\n\n  const decTimer = () => {\n    if (myState.seconds > 61) return onDecrement(secondsToTime);\n  };\n\n  const stopTimer = () => {\n    console.log(time, \" timer\");\n    if (myState.seconds !== 0) {\n      clearInterval(time);\n    }\n  };\n\n  const onDecrement = (fn) => dispatch({ type: \"DECREMENT\", secToTime: fn });\n  const timeFormatter = (myState) => {\n    console.log(myState.time.h);\n\n    if (myState.time.h.toString().length < 2)\n      myState.time.h = `0${myState.time.h}`;\n\n    if (myState.time.m.toString().length < 2)\n      myState.time.m = `0${myState.time.m}`;\n\n    if (myState.time.s.toString().length < 2)\n      myState.time.s = `0${myState.time.s}`;\n\n    return (\n      <span>\n        {myState.time.h}:{myState.time.m}:{myState.time.s}\n      </span>\n    );\n  };\n  return (\n    <Container fluid style={{ padding: \"0px 25px\" }}>\n      <Row\n        style={{\n          justifyContent: \"space-between\",\n          padding: \"15px 0px \",\n          alignItems: \"center\",\n        }}\n      >\n        <Col xs={4}>\n          <h5>CountDown App</h5>\n        </Col>\n      </Row>\n\n      <Container>\n        <div className=\"container mt-4  justify-content-center\">\n          <div className=\"mx-auto justify-content-center  text-center\">\n            {timeFormatter(myState)}\n          </div>\n          <div className=\"mt-3 text-center \">\n            <Button className=\"m-2\" variant=\"info\" onClick={() => incTimer()}>\n              +\n            </Button>\n\n            <Button\n              className=\"m-2\"\n              variant=\"primary\"\n              onClick={() => startTimer()}\n            >\n              Start\n            </Button>\n            <Button\n              className=\"m-2\"\n              variant=\"danger\"\n              onClick={() => stopTimer()}\n            >\n              Stop\n            </Button>\n            {/* <Button className=\"m-2\" variant=\"success\">\n              Lap\n            </Button>\n            <Button className=\"m-2\" variant=\"warning\">\n              Reset\n            </Button> */}\n            <Button className=\"m-2\" variant=\"info\" onClick={() => decTimer()}>\n              -\n            </Button>\n          </div>\n        </div>\n        <div className=\"container\"></div>\n      </Container>\n    </Container>\n  );\n};\n\nexport default CountDown;\n"]},"metadata":{},"sourceType":"module"}